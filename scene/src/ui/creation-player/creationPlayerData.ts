import { type Sprite } from '../utils/utils'

export const creationPlayerSprites: Record<string, Sprite> = {
  background: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 101,
    y: 101,
    w: 1250,
    h: 760
  },
  disciplesInfo: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 1530,
    y: 80,
    w: 290,
    h: 645
  },
  disciplesUnselected: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 2017,
    y: 541,
    w: 103,
    h: 109
  },
  disciples: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 1907,
    y: 541,
    w: 103,
    h: 109
  },
  rebelsInfo: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 1185,
    y: 1045,
    w: 290,
    h: 645
  },
  rebelsUnselected: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 894,
    y: 989,
    w: 103,
    h: 109
  },
  rebels: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 104,
    y: 989,
    w: 103,
    h: 109
  },
  stats: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 190,
    y: 1045,
    w: 290,
    h: 645
  },
  mageUnselected: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 1956,
    y: 768,
    w: 104,
    h: 110
  },
  mage: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 1907,
    y: 658,
    w: 103,
    h: 110
  },
  mageSkill: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 2017,
    y: 658,
    w: 103,
    h: 110
  },
  clericUnselected: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 2017,
    y: 109,
    w: 103,
    h: 110
  },
  cleric: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 1907,
    y: 219,
    w: 103,
    h: 110
  },
  clericSkill: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 2017,
    y: 219,
    w: 103,
    h: 110
  },
  berserkerUnselected: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 1907,
    y: 0,
    w: 103,
    h: 109
  },
  berserker: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 2016,
    y: 0,
    w: 103,
    h: 109
  },
  berserkerSkill: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 1907,
    y: 109,
    w: 103,
    h: 109
  },
  rangeUnselected: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 563,
    y: 989,
    w: 103,
    h: 109
  },
  range: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 673,
    y: 989,
    w: 103,
    h: 109
  },
  rangeSkill: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 784,
    y: 989,
    w: 103,
    h: 109
  },
  thiefUnselected: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 1785,
    y: 989,
    w: 103,
    h: 109
  },
  thief: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 1565,
    y: 989,
    w: 103,
    h: 109
  },
  thiefSkill: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 1675,
    y: 989,
    w: 103,
    h: 109
  },
  undeadUnselected: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 2005,
    y: 989,
    w: 103,
    h: 109
  },
  undead: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 1895,
    y: 989,
    w: 103,
    h: 109
  },
  humanUnselected: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 2017,
    y: 548,
    w: 103,
    h: 109
  },
  human: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 1907,
    y: 548,
    w: 103,
    h: 109
  },
  elfUnselected: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 2017,
    y: 438,
    w: 103,
    h: 109
  },
  elf: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 1907,
    y: 438,
    w: 103,
    h: 109
  },
  orcUnselected: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 3,
    y: 878,
    w: 103,
    h: 109
  },
  orc: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 1907,
    y: 989,
    w: 103,
    h: 109
  },
  accept: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 1453,
    y: 807,
    w: 250,
    h: 54
  },
  acceptClicked: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 1703,
    y: 807,
    w: 250,
    h: 54
  },
  acceptUnvailable: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 1453,
    y: 861,
    w: 250,
    h: 54
  },
  clearOptions: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 1703,
    y: 861,
    w: 250,
    h: 54
  },
  clearOptionsClicked: {
    atlasSrc: 'assets/images/creation_spritesheet.png',
    atlasSize: { x: 2124, y: 1771 },
    x: 1453,
    y: 915,
    w: 250,
    h: 54
  }
}

export type CharacterStatsType = {
  name: string
  skill?: string
  selectedSprite: Sprite
  unselectedSprite: Sprite
  skillSprite: Sprite
  attack: number
  defense: number
  luck: number
  healthPoints: number
  critRate: number
  critDamage: number
  id: string
  type: 'class' | 'race'
}

export type ChacarterFactionsType = {
  name: string
  selectedSprite: Sprite
  unselectedSprite: Sprite
  infoSprite: Sprite
  id: string
  type: 'faction'
}

export enum CharacterClasses {
  CC_CLERIC = 'cleric',
  CC_MAGE = 'mage',
  CC_THIEF = 'thief',
  CC_RANGE = 'range',
  CC_BERSERKER = 'berserker'
}

export enum CharacterRaces {
  CR_UNDEAD = 'undead',
  CR_ORC = 'orc',
  CR_HUMAN = 'human',
  CR_ELF = 'elf'
}

export enum CharacterFactions {
  CF_REBELS = 'rebels',
  CF_DISCIPLES = 'disciples'
}

export const CLASSES: Record<CharacterClasses, CharacterStatsType> = {
  [CharacterClasses.CC_CLERIC]: {
    name: 'Cleric',
    skill: 'Healing Touch',
    selectedSprite: creationPlayerSprites.cleric,
    unselectedSprite: creationPlayerSprites.clericUnselected,
    skillSprite: creationPlayerSprites.clericSkill,
    attack: 0,
    defense: 5,
    luck: 0,
    healthPoints: 30,
    critRate: 0,
    critDamage: 0,
    id: CharacterClasses.CC_CLERIC,
    type: 'class'
  },
  [CharacterClasses.CC_MAGE]: {
    name: 'Mage',
    skill: 'Smoke Screen',
    selectedSprite: creationPlayerSprites.mage,
    unselectedSprite: creationPlayerSprites.mageUnselected,
    skillSprite: creationPlayerSprites.mageSkill,
    attack: 0,
    defense: 0,
    luck: 3,
    healthPoints: 20,
    critRate: 3,
    critDamage: 0,
    id: CharacterClasses.CC_MAGE,
    type: 'class'
  },
  [CharacterClasses.CC_THIEF]: {
    name: 'Thief',
    skill: "Assasin's Ambition",
    selectedSprite: creationPlayerSprites.thief,
    unselectedSprite: creationPlayerSprites.thiefUnselected,
    skillSprite: creationPlayerSprites.thiefSkill,
    attack: 6,
    defense: 0,
    luck: 4,
    healthPoints: 0,
    critRate: 2,
    critDamage: 0,
    id: CharacterClasses.CC_THIEF,
    type: 'class'
  },
  [CharacterClasses.CC_RANGE]: {
    name: 'Cleric',
    skill: 'Healing Touch',
    selectedSprite: creationPlayerSprites.range,
    unselectedSprite: creationPlayerSprites.rangeUnselected,
    skillSprite: creationPlayerSprites.rangeSkill,
    attack: 10,
    defense: 0,
    luck: 0,
    healthPoints: 0,
    critRate: 6,
    critDamage: 0,
    id: CharacterClasses.CC_RANGE,
    type: 'class'
  },
  [CharacterClasses.CC_BERSERKER]: {
    name: 'Berserker',
    skill: 'Big Swing',
    selectedSprite: creationPlayerSprites.berserker,
    unselectedSprite: creationPlayerSprites.berserkerUnselected,
    skillSprite: creationPlayerSprites.berserkerSkill,
    attack: 11,
    defense: 5,
    luck: 0,
    healthPoints: 0,
    critRate: 0,
    critDamage: 0,
    id: CharacterClasses.CC_BERSERKER,
    type: 'class'
  }
}

export const CHARACTER_CLASSES: CharacterStatsType[] = [
  CLASSES.mage,
  CLASSES.cleric,
  CLASSES.thief,
  CLASSES.range,
  CLASSES.berserker
]

export const ASPECT_RATIO = 0.56
export const WIDTH_FACTOR = 0.5
export const HEIGTH_FACTOR = WIDTH_FACTOR * ASPECT_RATIO
export const ITEM_SIZE_FACTOR = 0.12

export function isStat(value: CharacterStatsType | ChacarterFactionsType): value is CharacterStatsType {
  return value.type === 'class' || value.type === 'race';
}

export function isFaction(value: CharacterStatsType | ChacarterFactionsType): value is ChacarterFactionsType {
  return value.type === 'faction';
}